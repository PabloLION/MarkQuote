# Story 3.5: Publish-Ready Release Flow

## Status

Completed

## Story

**As a** maintainer preparing our first public release,
**I want** a repeatable publishing pipeline with verified store assets,
**so that** cutting new versions of MarkQuote takes a single scripted pass instead of manual guesswork.

## Acceptance Criteria

1. Mandatory Chrome Web Store listing (icon, 440×280 promo, screenshots, description copy, category, language) is captured in repo or referenced with generation instructions.
2. Secrets management plan documented for the Chrome Web Store OAuth client (location, rotation, who holds access).
3. Command-line script (documented in `chrome-web-store-publish-api.md`) packages, uploads, and publishes the extension using stored credentials.
4. Publishing checklist includes pointers to requirements, asset sources, and automation script; QA sign-off recorded before submit.
5. Release artifacts (ZIP, changelog, release notes) archived per version after submission.

## Scope & Approach

- **Asset production:** gather or stage required promo imagery; note source PSD/figma if not committed.
- **Automation:** implement `.dev/publish-chrome.sh` (or equivalent) wrapping REST calls with error handling and logging.
- **Secrets:** decide storage (1Password, git-ignored `.dev/credentials.env`, etc.) and document retrieval process with least-privilege guidance.
- **Docs integration:** update `publishing-checklist.md` to link to requirements + API script; add post-submit checklist (monitor feedback).
- **Dry run & release artifacts:** rely on GitHub Releases for draft validation and asset hosting; document when to run the GitHub release workflow before each production launch.

## Tasks

- [x] Produce/update store promo assets and listing copy (icon confirmation, 440×280 tile, min 1280×800 screenshots, description, category, language). See instructions in `docs/dev/publish/publishing-assets.md` and `docs/dev/publish/chrome-web-store-requirements.md`.
- [x] Set up secure storage for `CLIENT_ID`, `CLIENT_SECRET`, `REFRESH_TOKEN`; document rotation procedure (`docs/dev/publish/credentials.md`).
- [x] Author `.dev/publish-chrome.ts` (or equivalent) using the Publish API helper script; verify success & error paths (`pnpm publish:chrome`).
- [x] Document GitHub Release-based dry run procedure (executed when tagging v1.1.0) and reference it from the publishing checklist.
- [x] Note that GitHub Releases store the packaged ZIP + release notes, replacing the local archive requirement.

## QA Notes

- Confirm script exits non-zero on API failure and surfaces useful output.
- Verify assets render correctly on light/dark Chrome Web Store themes.
- Validate release checklist covers GitHub Release workflow, QA sign-off, store submission, post-release monitoring.
