# Story 4.4 - Background Diagnostics Alignment

**Status:** Not Started

## Overview

Refactor background script initialization and error handling to align with the
new diagnostics pipeline. Rename/consolidate helpers and unify reset flows for
consistent behavior across the extension lifecycle.

## Objectives

- Rename initialization helpers for clarity
- Unify error reset flows between popup and background
- Ensure diagnostics capture initialization failures
- Clean up legacy naming conventions

## Acceptance Criteria

- [ ] Initialization helpers have clear, consistent names
- [ ] Error state resets work identically from popup and background
- [ ] Initialization failures captured in diagnostics
- [ ] No orphaned error states after extension reload
- [ ] Unit tests cover reset flow edge cases

## Risks & Mitigations

- **Breaking changes:** Ensure all call sites updated; run full test suite
- **State leaks:** Test extension reload scenarios thoroughly
