# MarkQuote 1.0.3 Release Notes

## Overview

Version 1.0.3 is a patch release focusing on clipboard reliability and selection
sanitization. This release fixes critical bugs and achieves 100% unit test
coverage.

## Changelog

### Bug Fixes

- **fix: sanitize selection by removing script and style tags** - Copying from
  Google search results no longer includes inline JavaScript/CSS code
- **fix(clipboard): restore clipboard fallback for hotkey flows** - Keyboard
  shortcuts now reliably copy to clipboard
- **fix(clipboard): restore tab-side copy injection** - Clipboard writes routed
  through tab context for better reliability
- **fix(popup): stabilise selection copy requests** - More reliable popup copy
  flow
- **fix(clipboard): reinstate tab payload size guard** - Prevents oversized
  payloads from breaking clipboard operations

### Improvements

- **feat(background): route clipboard writes through tab context** - More
  reliable clipboard access across different page contexts
- **test: achieve 100% unit test coverage** - All statements, branches,
  functions, and lines covered with documented exclusions

### Build & CI

- **build: add e2e build script** - `pnpm build:e2e` for instrumented test builds
- **ci: ensure linux runners install xclip** - CI clipboard tests now work on
  Linux

### Documentation

- Roadmap reorganized with Epics 4-6 for future releases
- Story 4.1 documented with `chrome.action.openPopup()` API details
- BMAD workflow artifacts for sprint planning

## Pre-Flight Checklist

- [x] `package.json` and `public/manifest.json` both read `1.0.3`
- [x] Unit tests pass with 100% coverage: `pnpm test:unit`
- [x] E2E tests pass (10/10): `pnpm test:e2e`
- [x] Manual smoke test: Google search copy works correctly
- [ ] Tag `v1.0.3` and push to origin
- [ ] Publish to Chrome Web Store

## Validation Results

| Test Suite | Result |
|------------|--------|
| Unit Tests | 246/246 passed, 100% coverage |
| E2E Tests | 10/10 passed |
| Smoke Test | Google search copy verified |

## Post-Release

1. Tag release: `git tag v1.0.3 && git push origin v1.0.3`
2. Publish to Chrome Web Store
3. Merge `release/1.0.3` back to `main`
